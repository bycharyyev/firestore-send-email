# Предварительные требования

Перед установкой расширения Firestore Send Email необходимо выполнить следующие шаги:

1. **Требования к проекту Firebase**:
   - Проект должен быть на плане Blaze (оплата по использованию)
   - Включен Cloud Firestore
   - Включены Cloud Functions

2. **Настройка SMTP сервера**:
   - Подготовьте учетные данные SMTP сервера
   - Убедитесь, что порт SMTP сервера не заблокирован (рекомендуется использовать порт 587 или 465)
   - Для Gmail необходимо настроить OAuth2

3. **Подготовка коллекций Firestore**:
   - Создайте коллекцию для документов email (по умолчанию 'mail')
   - При необходимости создайте коллекцию для шаблонов
   - При необходимости создайте коллекцию для пользователей

4. **Права доступа**:
   - Убедитесь, что у сервисного аккаунта есть права на запись в Firestore
   - Настройте правила безопасности Firestore для защиты коллекций

5. **Ограничения**:
   - Учтите ограничения вашего SMTP провайдера
   - Проверьте квоты Cloud Functions
   - Учтите ограничения Firestore по количеству операций

## Проверка готовности

Перед установкой выполните следующие проверки:

```bash
# Проверка версии Firebase CLI
firebase --version

# Проверка статуса проекта
firebase projects:list

# Проверка статуса сервисов
firebase services:list
```

## Рекомендации

1. **Безопасность**:
   - Используйте безопасное SMTP соединение (TLS/SSL)
   - Храните чувствительные данные в секретных параметрах
   - Регулярно обновляйте пароли и токены

2. **Производительность**:
   - Настройте правильные квоты для Cloud Functions
   - Используйте пакетную обработку для массовой отправки
   - Настройте TTL для автоматической очистки старых документов

3. **Мониторинг**:
   - Настройте оповещения о ошибках
   - Регулярно проверяйте логи
   - Отслеживайте использование ресурсов 